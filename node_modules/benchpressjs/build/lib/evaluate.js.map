{"version":3,"sources":["../../lib/evaluate.js"],"names":["vm","require","evaluate","code","context","module","exports","runInNewContext","timeout","template"],"mappings":"AAAA;;AAEA,MAAMA,KAAKC,QAAQ,IAAR,CAAX;;AAEA;;;;;;AAMA,SAASC,QAAT,CAAkBC,IAAlB,EAAwB;AACtB,QAAMC,UAAU;AACdC,YAAQ;AACNC,eAAS;AADH;AADM,GAAhB;AAKAN,KAAGO,eAAH,CAAmBJ,IAAnB,EAAyBC,OAAzB,EAAkC;AAChCI,aAAS;AADuB,GAAlC;AAGA,QAAMC,WAAWL,QAAQC,MAAR,CAAeC,OAAhC;;AAEA,SAAOG,QAAP;AACD;;AAEDJ,OAAOC,OAAP,GAAiBJ,QAAjB","file":"evaluate.js","sourcesContent":["'use strict';\n\nconst vm = require('vm');\n\n/**\n * Evaluate a compiled template for use on the server\n * @private\n * @param {string} code - Compiled JS code\n * @returns {function}\n */\nfunction evaluate(code) {\n  const context = {\n    module: {\n      exports: {},\n    },\n  };\n  vm.runInNewContext(code, context, {\n    timeout: 50,\n  });\n  const template = context.module.exports;\n\n  return template;\n}\n\nmodule.exports = evaluate;\n"]}